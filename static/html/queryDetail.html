<!DOCTYPE html>
<html>
<head>
	<title>Data</title>
	<meta charset="utf-8">
	<link href="../kendoui/examples/content/shared/styles/examples-offline.css" rel="stylesheet">
	<link href="../kendoui/styles/kendo.common.min.css" rel="stylesheet">
	<link href="../kendoui/styles/kendo.rtl.min.css" rel="stylesheet">
	<link href="../kendoui/styles/kendo.default.min.css" rel="stylesheet">
	<link href="../kendoui/styles/kendo.default.mobile.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">


	<link rel="stylesheet" href="/static/css_temp/queryDetail.css">


	<script src="../kendoui/js/jquery.min.js"></script>
	<script src="../kendoui/js/jszip.min.js"></script>
	<script src="../kendoui/js/kendo.all.min.js"></script>
	<script src="../kendoui/examples/content/shared/js/console.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

	<script src="/static/js_temp/queryDetailHandler.js"></script>
	<script src="/static/js_temp/customFormulaHandler.js"></script>
	<script src="/static/js_temp/chartHandler.js"></script>
	<script src="/static/js_temp/textAnalysisHandler.js"></script>

</head>

<body onload="initialization('{{username}}', '{{query_id}}', '{{query_name}}');">
	<div id="grid"></div>
	<div id="message"></div>
	<div id="toolbar"></div>
	<div id="treeview"></div>
	<div id="spreadsheet"></div>

	<ul id="panelbar">
		<li>
			Custom Formula
				<div id="custom-formula">
					<div>
						<div class="inner">
							<div id="formula-parameters"></div>
						</div>

 						<div class="inner">
							<!-- <textarea id="formula-coding-area" rows="10" cols="30"></textarea>
							<script>
								$("#formula-coding-area").kendoEditor({
									tools: [
										"bold",
										"fontSize"
									],
									select: function(e) {
										checkArgumentAssignment();
									}
								});
							</script> -->
						</div>

						<div class="inner">
							<button type="button" class="btn btn-info btn-primary btn-circle btn-lg" id="submit-formula" onclick="submitFormula();">
								<span class="glyphicon glyphicon-play"></span>
							</button>
						</div>
					</div> 
				</div>
		</li>

		<li>
			Plot
				<div id="plot">
					<div id="options">
						<div class="inner">
							<button type="button" class="btn btn-info btn-primary btn-circle btn-lg" id="draw" onclick="drawChart();">
								<span class="glyphicon glyphicon-play"></span>
							</button>
						</div>

						<div class="inner">
							<button type="button" class="btn btn-info btn-primary btn-circle btn-lg" id="setting" data-toggle="modal" href="#chart-setting">
								<span class="glyphicon glyphicon-menu-hamburger"></span>
							</button>
						</div>

						<div class="inner">
							<button type="button" class="btn btn-info btn-primary btn-circle btn-lg" id="download-plot" data-toggle="modal" href="#download-setting">
								<span class="glyphicon glyphicon-download-alt"></span>
							</button>
						</div>

 						<div class="inner">
							<input id="chartTypeList"/>
						</div>
					</div>

					<div id="chart"></div>    
				</div>
		</li>

		<li>
			Text Functions
			<div id="text-analysis">
				<div class="inner">
					<button type="button" class="btn btn-info btn-primary btn-circle btn-lg" id="run-text-function" onclick="showTextFunctionParameterModal();">
						<span class="glyphicon glyphicon-play"></span>
					</button>
				</div>

				<div class="inner">
					<input id="textFunctionsList"/>
				</div>
			</div>
			<div id="text-function-result"></div>
		</li>
	</ul>

	<!-- modal to show parameter detail -->
	<div class="modal fade" id="parameterDetail" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="myModalLabel">
						Parameter Detail
					</h4>
					<button type="button" class="close" data-dismiss="modal">
						<span aria-hidden="true">Ã—</span>
					</button>
				</div>
				<div class="modal-body">
					<table class="table">
						<thead>
							<tr>
								<th>
									Parameter Name
								</th>
								<th>
									Parameter Value
								</th>
							</tr>
						</thead>
						<tbody id="parameterDetailTable">
						</tbody>
					</table>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">
						Close
					</button>
				</div>
			</div>
			
		</div>
	</div>


	<!-- modal of chart setting -->
	<div class="modal fade" id="chart-setting" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">
						Chart Setting
					</h5>
				</div>
				<div class="modal-body">
					<form>
						<div class="form-group row">
							<label for="chartSeries" class="col-sm-4 col-form-label">Series (y-axis) Name</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" id="chartSeries" placeholder="Series">
							</div>
						</div>

						<div class="form-group row">
							<label for="chartCategories" class="col-sm-4 col-form-label">Categories (x-axis)</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" id="chartCategories" placeholder="Categories, splited by comma">
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" onclick="saveChartSetting();" data-dismiss="modal">
						Save
					</button> 
					<button type="button" class="btn btn-secondary" data-dismiss="modal">
						Close
					</button>
				</div>
			</div>
		</div>
	</div>


	<!-- modal of download setting -->
	<div class="modal fade" id="download-setting" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">
						Download Setting
					</h5>
				</div>
				<div class="modal-body">
					<form>
						<div class="form-group row">
							<label for="fileType" class="col-sm-4 col-form-label">Select file type</label>
							<div class="col-sm-8">
								<input id="fileType"/>
								<script>
									$("#fileType").kendoDropDownList({
										dataSource: ["PDF", "Image", "SVG"]
									});
									var fileType = $("#fileType").data("kendoDropDownList");
									fileType.trigger("change");
								</script>
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" onclick="downloadChart();" data-dismiss="modal">
						Download
					</button> 
					<button type="button" class="btn btn-secondary" data-dismiss="modal">
						Close
					</button>
				</div>
			</div>
		</div>
	</div>

	<!-- modal of text function setting -->
	<div class="modal fade" id="text-function-setting" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">
						Function Setting
					</h5>
				</div>
				<div class="modal-body">
					<form></form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" onclick="runTextFunction();" data-dismiss="modal">
						Ok
					</button> 
					<button type="button" class="btn btn-secondary" data-dismiss="modal">
						Close
					</button>
				</div>
			</div>
		</div>
	</div>

</body>